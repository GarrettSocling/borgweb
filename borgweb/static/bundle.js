/**
  This file was autogenerated.
  See https://github.com/borgbackup/borgweb
*/
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";var dateformat=require("dateformat"),cfg={logFilesList:[],logFilesListHTML:"",lastSelectedLog:NaN,pollFrequency:300,shownLog:{id:0,offset:0,lines:10},transitionTime:170},noBackupRunning=function(o){$.getJSON("backup/status",function(t){var n=null===t.rc;log(n?"▶ Backup in progress":"✖ No backup in progress"),o(!n)})},pollBackupStatus=function o(t,n,s){noBackupRunning(function(g){g?($(".navbar button[type=submit]").toggleClass("btn-success"),$(".navbar button[type=submit]").toggleClass("btn-warning"),$(".navbar button[type=submit]").text("▶ Start Backup"),$.getJSON("logs",updateLogFileList)):(log("Polling backup status"),$.getJSON("backup/status",s),setTimeout(function(){o(t,n,s)},n))})},stopBackup=function(){log("Terminating (eventually killing) the backup process"),$.post("backup/stop",{},function(o){log("Message: '"+o.msg+"', RC: '"+o.rc+"'")})},startBackup=function t(o){o?(log("Sending backup start request"),$.post("backup/start",{},function(){$(".navbar button[type=submit]").toggleClass("btn-success"),$(".navbar button[type=submit]").toggleClass("btn-warning"),$(".navbar button[type=submit]").text("✖ Stop Backup"),pollBackupStatus("backup/status",cfg.pollFrequency,function(o){log("Received status update")})})):void 0===o?noBackupRunning(t):stopBackup()},log=function(){var o=Array.prototype.slice.call(arguments),t="["+dateformat(new Date,"HH:MM:ss")+"]";return o.unshift(t),console.log.apply(console,o),this},isInt=function(o){return o%1===0},success=function(o){logFiles=o.log_files},parseAnchor=function(){var o=window.location.href.toString(),t=o.indexOf("#"),n=-1!=t?o.substring(t+1):"";if(n){var s=n.split(";"),g={};return s.forEach(function(o){var t=o.split(":");g[t[0]]=t[1]}),g}return{log:0}},updateLogFileList=function(o){log("Updating log file list"),cfg.logFilesListHTML=[],$.each(o.files,function(o,t){cfg.logFilesListHTML+='<li><a href="#log:'+t[0]+'" id="log-'+t[0]+'" onClick="window.displayThatLog('+t[0]+')">'+t[1]+"</a></li>"}),$("#log-files").html(cfg.logFilesListHTML),log("Highlighting log # "+parseInt(cfg.shownLog.id)),$("#log-"+parseInt(cfg.shownLog.id)).focus()},appendLog=function(o,t){$.getJSON("logs/"+cfg.shownLog.id,function(o){var t={success:["ok-circle","#5cb85c"],warning:["ban-circle","#f0ad4e"],error:["remove-circle","#c9302c"]};$("#log-path").html('<span class="glyphicon glyphicon-'+t[o.status][0]+'" aria-hidden="true" style="color: '+t[o.status][1]+'; width: 20px; height: 24px; vertical-align: top;"></span> '+o.filename)});var n=$("#log-text");(0===cfg.shownLog.offset||t)&&$("#log-text").html(""),o.lines.forEach(function(o,t){n.append(o[1]+"\n")}),$("#loadMore").remove(),cfg.shownLog.offset=o.offset,n.after('<button id="loadMore" onClick="window.showLog('+cfg.shownLog.id+", "+cfg.shownLog.offset+", "+cfg.shownLog.lines+')">load more</button>')},overwriteLog=function(o){appendLog(o,!0)},showLog=function(o,t,n){var s=!1;if(o!==cfg.shownLog.id){log("Displaying different log than before"),$("#log-text").fadeOut(.5*cfg.transitionTime);var g=parseAnchor();cfg.shownLog.id=g.log||0,cfg.shownLog.offset=0,s=!0}cfg.shownLog.id=o||cfg.shownLog.id,cfg.shownLog.offset=t||cfg.shownLog.offset,cfg.shownLog.lines=n||cfg.shownLog.lines;var e="logs/"+cfg.shownLog.id+"/"+cfg.shownLog.offset+":"+cfg.shownLog.lines;log("Fetching log ("+cfg.shownLog.id+", "+cfg.shownLog.offset+", "+cfg.shownLog.lines+")"),setTimeout(function(){s?$.getJSON(e,overwriteLog):$.getJSON(e,appendLog),$("#log-text").fadeIn(.5*cfg.transitionTime)},.5*cfg.transitionTime)};window.displayThatLog=function(o){showLog(o)},window.startBackup=startBackup,window.showLog=showLog,$.getJSON("logs",updateLogFileList),showLog();
},{"dateformat":2}],2:[function(require,module,exports){
!function(e){"use strict";function t(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function a(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var a=new Date(t.getFullYear(),0,4);a.setDate(a.getDate()-(a.getDay()+6)%7+3);var n=t.getTimezoneOffset()-a.getTimezoneOffset();t.setHours(t.getHours()-n);var r=(t-a)/6048e5;return 1+Math.floor(r)}function n(e){var t=e.getDay();return 0===t&&(t=7),t}function r(e){return null===e?"null":void 0===e?"undefined":"object"!=typeof e?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}var s=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|'[^']*'|'[^']*'/g,d=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,m=/[^-+\dA-Z]/g;return function(y,i,o,u){if(1!==arguments.length||"string"!==r(y)||/\d/.test(y)||(i=y,y=void 0),y=y||new Date,y instanceof Date||(y=new Date(y)),isNaN(y))throw TypeError("Invalid date");i=String(s.masks[i]||i||s.masks["default"]);var l=i.slice(0,4);("UTC:"===l||"GMT:"===l)&&(i=i.slice(4),o=!0,"GMT:"===l&&(u=!0));var M=o?"getUTC":"get",T=y[M+"Date"](),g=y[M+"Day"](),c=y[M+"Month"](),f=y[M+"FullYear"](),h=y[M+"Hours"](),D=y[M+"Minutes"](),p=y[M+"Seconds"](),H=y[M+"Milliseconds"](),S=o?0:y.getTimezoneOffset(),v=a(y),b=n(y),N={d:T,dd:t(T),ddd:s.i18n.dayNames[g],dddd:s.i18n.dayNames[g+7],m:c+1,mm:t(c+1),mmm:s.i18n.monthNames[c],mmmm:s.i18n.monthNames[c+12],yy:String(f).slice(2),yyyy:f,h:h%12||12,hh:t(h%12||12),H:h,HH:t(h),M:D,MM:t(D),s:p,ss:t(p),l:t(H,3),L:t(Math.round(H/10)),t:12>h?"a":"p",tt:12>h?"am":"pm",T:12>h?"A":"P",TT:12>h?"AM":"PM",Z:u?"GMT":o?"UTC":(String(y).match(d)||[""]).pop().replace(m,""),o:(S>0?"-":"+")+t(100*Math.floor(Math.abs(S)/60)+Math.abs(S)%60,4),S:["th","st","nd","rd"][T%10>3?0:(T%100-T%10!=10)*T%10],W:v,N:b};return i.replace(e,function(e){return e in N?N[e]:e.slice(1,e.length-1)})}}();s.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},s.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},"function"==typeof define&&define.amd?define(s):"object"==typeof exports?module.exports=s:e.dateFormat=s}(this);
},{}]},{},[1])


//# sourceMappingURL=bundle.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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var dateformat = require('dateformat')\n\n/**\n  ~~ Config ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n*/\nvar cfg = {\n  'logFilesList': [],\n  'logFilesListHTML': \"\",\n  'lastSelectedLog': NaN,\n  'pollFrequency': 300,\n  'shownLog': {\n    'id': 0, 'offset': 0, 'lines': 10 },\n  'transitionTime': 170\n}\n\n/**\n  ~~ BorgBackup interaction ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n*/\nvar noBackupRunning = function (callback) {\n  $.getJSON('backup/status', function (resp) {\n    var backupRunning = resp.rc === null\n    if (backupRunning) log(\"▶ Backup in progress\")\n    else log(\"✖ No backup in progress\")\n    callback(!backupRunning)\n  })\n}\nvar pollBackupStatus = function (endpoint, ms, callback) {\n  noBackupRunning(function (notRunning) {\n    if (notRunning) {\n      $('.navbar button[type=submit]').toggleClass('btn-success')\n      $('.navbar button[type=submit]').toggleClass('btn-warning')\n      $('.navbar button[type=submit]').text(\"▶ Start Backup\")\n      $.getJSON('logs', updateLogFileList)\n    } else {\n      log(\"Polling backup status\")\n      $.getJSON('backup/status', callback)\n      setTimeout(function () { pollBackupStatus(endpoint, ms, callback) }, ms)\n    }\n  })\n}\nvar stopBackup = function () {\n  log(\"Terminating (eventually killing) the backup process\")\n  $.post('backup/stop', {}, function (res) {\n    log(\"Message: '\" + res.msg + \"', RC: '\" + res.rc + \"'\") })\n}\nvar startBackup = function (force) {\n  if (force) {\n    log(\"Sending backup start request\")\n    $.post('backup/start', {}, function () {\n      $('.navbar button[type=submit]').toggleClass('btn-success')\n      $('.navbar button[type=submit]').toggleClass('btn-warning')\n      $('.navbar button[type=submit]').text(\"✖ Stop Backup\")\n      pollBackupStatus('backup/status', cfg['pollFrequency'],\n        function (res) {\n          log(\"Received status update\")\n        }) })\n  } else if (force === undefined) noBackupRunning(startBackup)\n    else {\n    stopBackup()\n  }\n}\n\n/**\n  ~~ Utility ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n*/\nvar log = function(){\n  var args = Array.prototype.slice.call(arguments)\n  var time = '[' + dateformat(new Date(), 'HH:MM:ss') + ']'\n  args.unshift(time)\n  console.log.apply(console, args);\n  return this\n}\nvar isInt = function (n) {\n  return n % 1 === 0\n}\nvar success = function (data) {\n  logFiles = data.log_files\n}\nvar parseAnchor = function () {\n  var url = window.location.href.toString()\n  var idx = url.indexOf(\"#\")\n  var anchor = (idx != -1) ? url.substring(idx+1) : \"\"\n  if (anchor) {\n    var parts = anchor.split(';')\n    var partsParsed = {}\n    parts.forEach(function (e) {\n      var pair = e.split(':')\n      partsParsed[pair[0]] = pair[1]\n    })\n    return partsParsed\n  } else return {'log': 0}\n}\n\n/**\n  ~~ UI updaters ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n*/\nvar updateLogFileList = function (logFiles) {\n  log(\"Updating log file list\")\n  cfg.logFilesListHTML = []\n  $.each(logFiles.files, function (key, value) {\n    cfg.logFilesListHTML += '<li><a href=\"#log:' + value[0] + '\" id=\"log-' + value[0]\n      + '\" onClick=\"window.displayThatLog('\n      + value[0] + ')\">' + value[1] + '</a></li>' })\n  $('#log-files').html(cfg.logFilesListHTML)\n  log(\"Highlighting log # \" + parseInt(cfg['shownLog']['id']))\n  $('#log-' + parseInt(cfg['shownLog']['id'])).focus()\n}\nvar appendLog = function (data, overwrite) {\n  // set status icon:\n  $.getJSON('logs/' + cfg['shownLog']['id'], function (res) {\n    var icon = {\n      'success': ['ok-circle', '#5cb85c'],\n      'warning': ['ban-circle', '#f0ad4e'],\n      'error': ['remove-circle', '#c9302c']\n    }\n    $('#log-path').html('<span class=\"glyphicon glyphicon-' + icon[res.status][0]\n      + '\" aria-hidden=\"true\" style=\"color: ' + icon[res.status][1]\n      + '; width: 20px; height: 24px; vertical-align: top;\"></span> ' + res.filename )\n  })\n  \n  // append log text:\n  var logText = $('#log-text')\n  if (cfg['shownLog']['offset'] === 0 || overwrite) $('#log-text').html('')\n  data.lines.forEach(function (val, index) { logText.append(val[1] + '\\n') })\n  $('#loadMore').remove()\n  cfg['shownLog']['offset'] = data.offset\n  logText.after('<button id=\"loadMore\" onClick=\"window.showLog('\n    + cfg['shownLog']['id'] + ', ' + cfg['shownLog']['offset'] + ', '\n    + cfg['shownLog']['lines'] + ')\">load more</button>' )\n}\nvar overwriteLog = function (data) { appendLog(data, true) }\nvar showLog = function (id, offset, lines) {\n  var newLog = false\n  if (id !== cfg['shownLog']['id']) {\n    log(\"Displaying different log than before\")\n    $('#log-text').fadeOut(cfg['transitionTime'] * 0.5)\n    var args = parseAnchor()\n    cfg['shownLog']['id'] = args['log'] || 0\n    cfg['shownLog']['offset'] = 0\n    newLog = true\n  }\n  cfg['shownLog']['id'] = id || cfg['shownLog']['id']\n  cfg['shownLog']['offset'] = offset || cfg['shownLog']['offset']\n  cfg['shownLog']['lines'] = lines || cfg['shownLog']['lines']\n  var url = 'logs/' + cfg['shownLog']['id'] + '/' + cfg['shownLog']['offset']\n    + ':' + cfg['shownLog']['lines']\n  log(\"Fetching log (\" + cfg['shownLog']['id'] + ', '\n    + cfg['shownLog']['offset'] + ', ' + cfg['shownLog']['lines'] + ')')\n  setTimeout(function () { \n    if (newLog) $.getJSON(url, overwriteLog)\n    else $.getJSON(url, appendLog)\n    $('#log-text').fadeIn(cfg['transitionTime'] * 0.5)\n  }, cfg['transitionTime'] * 0.5)\n}\n\n/**\n  ~~ UI callables ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n*/\nwindow.displayThatLog = function (that) {\n  showLog(that)\n}\nwindow.startBackup = startBackup\nwindow.showLog = showLog\n/**\n  ~~ Site init ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n*/\n\n$.getJSON('logs', updateLogFileList)\nshowLog()\n\n\n\n\n\n\n","/*\n * Date Format 1.2.3\n * (c) 2007-2009 Steven Levithan <stevenlevithan.com>\n * MIT license\n *\n * Includes enhancements by Scott Trenda <scott.trenda.net>\n * and Kris Kowal <cixar.com/~kris.kowal/>\n *\n * Accepts a date, a mask, or a date and a mask.\n * Returns a formatted version of the given date.\n * The date defaults to the current date/time.\n * The mask defaults to dateFormat.masks.default.\n */\n\n(function(global) {\n  'use strict';\n\n  var dateFormat = (function() {\n      var token = /d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\\1?|[LloSZWN]|'[^']*'|'[^']*'/g;\n      var timezone = /\\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\\d{4})?)\\b/g;\n      var timezoneClip = /[^-+\\dA-Z]/g;\n  \n      // Regexes and supporting functions are cached through closure\n      return function (date, mask, utc, gmt) {\n  \n        // You can't provide utc if you skip other args (use the 'UTC:' mask prefix)\n        if (arguments.length === 1 && kindOf(date) === 'string' && !/\\d/.test(date)) {\n          mask = date;\n          date = undefined;\n        }\n  \n        date = date || new Date;\n  \n        if(!(date instanceof Date)) {\n          date = new Date(date);\n        }\n  \n        if (isNaN(date)) {\n          throw TypeError('Invalid date');\n        }\n  \n        mask = String(dateFormat.masks[mask] || mask || dateFormat.masks['default']);\n  \n        // Allow setting the utc/gmt argument via the mask\n        var maskSlice = mask.slice(0, 4);\n        if (maskSlice === 'UTC:' || maskSlice === 'GMT:') {\n          mask = mask.slice(4);\n          utc = true;\n          if (maskSlice === 'GMT:') {\n            gmt = true;\n          }\n        }\n  \n        var _ = utc ? 'getUTC' : 'get';\n        var d = date[_ + 'Date']();\n        var D = date[_ + 'Day']();\n        var m = date[_ + 'Month']();\n        var y = date[_ + 'FullYear']();\n        var H = date[_ + 'Hours']();\n        var M = date[_ + 'Minutes']();\n        var s = date[_ + 'Seconds']();\n        var L = date[_ + 'Milliseconds']();\n        var o = utc ? 0 : date.getTimezoneOffset();\n        var W = getWeek(date);\n        var N = getDayOfWeek(date);\n        var flags = {\n          d:    d,\n          dd:   pad(d),\n          ddd:  dateFormat.i18n.dayNames[D],\n          dddd: dateFormat.i18n.dayNames[D + 7],\n          m:    m + 1,\n          mm:   pad(m + 1),\n          mmm:  dateFormat.i18n.monthNames[m],\n          mmmm: dateFormat.i18n.monthNames[m + 12],\n          yy:   String(y).slice(2),\n          yyyy: y,\n          h:    H % 12 || 12,\n          hh:   pad(H % 12 || 12),\n          H:    H,\n          HH:   pad(H),\n          M:    M,\n          MM:   pad(M),\n          s:    s,\n          ss:   pad(s),\n          l:    pad(L, 3),\n          L:    pad(Math.round(L / 10)),\n          t:    H < 12 ? 'a'  : 'p',\n          tt:   H < 12 ? 'am' : 'pm',\n          T:    H < 12 ? 'A'  : 'P',\n          TT:   H < 12 ? 'AM' : 'PM',\n          Z:    gmt ? 'GMT' : utc ? 'UTC' : (String(date).match(timezone) || ['']).pop().replace(timezoneClip, ''),\n          o:    (o > 0 ? '-' : '+') + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4),\n          S:    ['th', 'st', 'nd', 'rd'][d % 10 > 3 ? 0 : (d % 100 - d % 10 != 10) * d % 10],\n          W:    W,\n          N:    N\n        };\n  \n        return mask.replace(token, function (match) {\n          if (match in flags) {\n            return flags[match];\n          }\n          return match.slice(1, match.length - 1);\n        });\n      };\n    })();\n\n  dateFormat.masks = {\n    'default':               'ddd mmm dd yyyy HH:MM:ss',\n    'shortDate':             'm/d/yy',\n    'mediumDate':            'mmm d, yyyy',\n    'longDate':              'mmmm d, yyyy',\n    'fullDate':              'dddd, mmmm d, yyyy',\n    'shortTime':             'h:MM TT',\n    'mediumTime':            'h:MM:ss TT',\n    'longTime':              'h:MM:ss TT Z',\n    'isoDate':               'yyyy-mm-dd',\n    'isoTime':               'HH:MM:ss',\n    'isoDateTime':           'yyyy-mm-dd\\'T\\'HH:MM:sso',\n    'isoUtcDateTime':        'UTC:yyyy-mm-dd\\'T\\'HH:MM:ss\\'Z\\'',\n    'expiresHeaderFormat':   'ddd, dd mmm yyyy HH:MM:ss Z'\n  };\n\n  // Internationalization strings\n  dateFormat.i18n = {\n    dayNames: [\n      'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat',\n      'Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'\n    ],\n    monthNames: [\n      'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec',\n      'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'\n    ]\n  };\n\nfunction pad(val, len) {\n  val = String(val);\n  len = len || 2;\n  while (val.length < len) {\n    val = '0' + val;\n  }\n  return val;\n}\n\n/**\n * Get the ISO 8601 week number\n * Based on comments from\n * http://techblog.procurios.nl/k/n618/news/view/33796/14863/Calculate-ISO-8601-week-and-year-in-javascript.html\n *\n * @param  {Object} `date`\n * @return {Number}\n */\nfunction getWeek(date) {\n  // Remove time components of date\n  var targetThursday = new Date(date.getFullYear(), date.getMonth(), date.getDate());\n\n  // Change date to Thursday same week\n  targetThursday.setDate(targetThursday.getDate() - ((targetThursday.getDay() + 6) % 7) + 3);\n\n  // Take January 4th as it is always in week 1 (see ISO 8601)\n  var firstThursday = new Date(targetThursday.getFullYear(), 0, 4);\n\n  // Change date to Thursday same week\n  firstThursday.setDate(firstThursday.getDate() - ((firstThursday.getDay() + 6) % 7) + 3);\n\n  // Check if daylight-saving-time-switch occured and correct for it\n  var ds = targetThursday.getTimezoneOffset() - firstThursday.getTimezoneOffset();\n  targetThursday.setHours(targetThursday.getHours() - ds);\n\n  // Number of weeks between target Thursday and first Thursday\n  var weekDiff = (targetThursday - firstThursday) / (86400000*7);\n  return 1 + Math.floor(weekDiff);\n}\n\n/**\n * Get ISO-8601 numeric representation of the day of the week\n * 1 (for Monday) through 7 (for Sunday)\n * \n * @param  {Object} `date`\n * @return {Number}\n */\nfunction getDayOfWeek(date) {\n  var dow = date.getDay();\n  if(dow === 0) {\n    dow = 7;\n  }\n  return dow;\n}\n\n/**\n * kind-of shortcut\n * @param  {*} val\n * @return {String}\n */\nfunction kindOf(val) {\n  if (val === null) {\n    return 'null';\n  }\n\n  if (val === undefined) {\n    return 'undefined';\n  }\n\n  if (typeof val !== 'object') {\n    return typeof val;\n  }\n\n  if (Array.isArray(val)) {\n    return 'array';\n  }\n\n  return {}.toString.call(val)\n    .slice(8, -1).toLowerCase();\n};\n\n\n\n  if (typeof define === 'function' && define.amd) {\n    define(dateFormat);\n  } else if (typeof exports === 'object') {\n    module.exports = dateFormat;\n  } else {\n    global.dateFormat = dateFormat;\n  }\n})(this);\n"]}